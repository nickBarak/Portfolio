<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/css/swiper.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js" ></script>
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" />
    <title>Nick Barak Portfolio</title>
</head>
<body>
    <div style="height: 100vh; display: flex; align-items: center; justify-content: center;">
        <div style="width: 50%">

            <div class="header">
                <div class="header-title">My Portfolio</div>
                <div class="header-name">Nick Barak</div>
            </div>

            <div id="overview">
                <strong id="overview-title"></strong>
                <div id="overview-content"></div>
                <button id="transition-button"></button>
            </div>

        </div>
        
        <section class="swiper-container loading" style="width: 40%">
            <div class="swiper-wrapper">
                    <div class="swiper-slide" style="background-image:url(img/nav/home.jpg)">
                        <img src="img/nav/home.jpg" class="entity-img" />
                        <p class="title" data-swiper-parallax="-30%" data-swiper-parallax-scale=".75">Home</p>
                    </div>

                    <div class="swiper-slide" style="background-image:url(img/nav/apps.jpg)">
                        <img src="img/nav/apps.jpg" class="entity-img" />
                        <p class="title" data-swiper-parallax="-30%" data-swiper-parallax-scale=".75">Apps</p>
                    </div>

                    <div class="swiper-slide" style="background-image:url(img/nav/skills.jpg)">
                        <img src="img/nav/skills.jpg" class="entity-img" />
                        <p class="title" data-swiper-parallax="-30%" data-swiper-parallax-scale=".7">Skills</p>
                    </div>

                    <div class="swiper-slide" style="background-image:url(img/nav/appendix.jpg)">
                        <img src="img/nav/appendix.jpg" class="entity-img" />
                        <p class="title" data-swiper-parallax="-30%" data-swiper-parallax-scale=".7">Appendix</p>
                    </div>
            </div>
        
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev swiper-button-white"></div>
            <div class="swiper-button-next swiper-button-white"></div>

            <div class="swiper-help">Spin the block to navigate</div>
        </section>

        <div style="width: 10%"></div>
      </div>
      
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/css/swiper.min.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js" ></script>
      <script src="./api.js"></script>
      <script>
        const loadGitHub = _=> window.open('https://github.com/nickBarak', '_blank');

        let sliderSelector = '.swiper-container',
        options = {
            init: false,
            loop: true,
            speed:1000,
            slidesPerView: 2,
            centeredSlides : true,
            effect: 'cube',
            coverflowEffect: {
                rotate: 50,
                stretch: 0,
                depth: 100,
                modifier: 1,
                slideShadows : true,
            },
            grabCursor: true,
            parallax: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            // breakpoints: {
            //     1023: {
            //     slidesPerView: 1,
            //     spaceBetween: 0
            //     }
            // },
            // Events
            on: {
                imagesReady: function(){
                this.el.classList.remove('loading');
                }
            }
        };
        let mySwiper = new Swiper(sliderSelector, options);
        mySwiper.init();
        mySwiper.on('slideChange', e => {
            let overview;
            switch (mySwiper.realIndex) {
                default: return;
                case 0:
                    overview = 'Home';
                    break;
                case 1:
                    overview = 'Apps';
                    break;
                case 2:
                    overview = 'Skills';
                    break;
                case 3:
                    overview = 'Appendix';
            }
            document.getElementById('overview-title').innerHTML = overview;
            document.getElementById('overview-content').innerHTML = overviews[overview];
            if (overview === 'Home') {
                document.getElementById('transition-button').innerHTML = 'My GitHub';
                document.getElementById('transition-button').addEventListener('click', loadGitHub);
            } else {
                document.getElementById('transition-button').innerHTML = `Click to view ${overview.toLowerCase()}`;
                document.getElementById('transition-button').removeEventListener('click', loadGitHub);
            }
        });

        document.getElementById('overview-title').innerHTML = 'Home';
        document.getElementById('overview-content').innerHTML = overviews['Home'];
        document.getElementById('transition-button').innerHTML = `My GitHub`;
        document.getElementById('transition-button').addEventListener('click', loadGitHub);
    </script>
</body>
</html>